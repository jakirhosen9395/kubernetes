# Kubernetes Guide: Pod, ReplicationController, ReplicaSet, Deployment

> Clean, corrected, and production-minded notes. Everything you need in one file.

---

## Table of Contents
- [Overview](#overview)
- [Repository Structure](#repository-structure)
- [Quick Start Lab](#quick-start-lab)
- [Pod (`pod.yaml`)](#pod-podyaml)
- [ReplicationController (`rc.yml`)](#replicationcontroller-rcyml)
- [ReplicaSet (`rs.yml`)](#replicaset-rsyml)
- [Deployment (`deployment-nginx.yml` and `deploy.yml`)](#deployment-deployment-nginxyml-and-deployyml)
- [Command Cheat Sheet](#command-cheat-sheet)
- [Validated Fixes for Your Earlier Errors](#validated-fixes-for-your-earlier-errors)
- [Troubleshooting & Tips](#troubleshooting--tips)
- [Visual Diagrams](#visual-diagrams)

---

## Overview
‡¶è‡¶á ‡¶°‡¶ï‡ßÅ‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡ßá **Kubernetes-‡¶è‡¶∞ ‡¶ö‡¶æ‡¶∞‡¶ü‡¶ø ‡¶Æ‡ßÇ‡¶≤ ‡¶Ö‡¶¨‡¶ú‡ßá‡¶ï‡ßç‡¶ü** ‡¶®‡¶ø‡ßü‡ßá ‡¶™‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ï‡¶ü‡¶ø‡¶∏ ‡¶®‡ßã‡¶ü‡¶∏ ‡¶Ü‡¶õ‡ßá: **Pod, ReplicationController (RC), ReplicaSet (RS), Deployment**‡•§  
‡¶∏‡¶¨ YAML **validated** ‡¶ì **corrected**, ‡¶∏‡¶æ‡¶•‡ßá ‡¶∞‡ßü‡ßá‡¶õ‡ßá ‡¶ï‡¶Æ‡¶æ‡¶®‡ßç‡¶° ‡¶ö‡¶ø‡¶ü‡¶∂‡¶ø‡¶ü, ‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£ ‡¶≠‡ßÅ‡¶≤‡¶ó‡ßÅ‡¶≤‡ßã‡¶∞ ‡¶´‡¶ø‡¶ï‡ßç‡¶∏ ‡¶è‡¶¨‡¶Ç ‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡¶∂‡¶®-‡¶Æ‡¶®‡¶∏‡ßç‡¶ï ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£‡•§

> ‚ÑπÔ∏è ‡¶®‡ßã‡¶ü: ‡¶Ü‡¶ó‡ßá‡¶∞ ‡¶°‡¶ï/‡¶ï‡¶Æ‡¶æ‡¶®‡ßç‡¶°‡ßá ‡¶•‡¶æ‡¶ï‡¶æ ‡¶ü‡¶æ‡¶á‡¶™‡ßã ‡¶ì ‡¶≠‡ßÅ‡¶≤ ‡¶Ø‡ßá‡¶Æ‡¶® `--dryrun` vs `--dry-run=client`, ‡¶≠‡ßÅ‡¶≤ container name ‡¶á‡¶§‡ßç‡¶Ø‡¶æ‡¶¶‡¶ø ‡¶è‡¶á ‡¶ó‡¶æ‡¶á‡¶°‡ßá ‡¶†‡¶ø‡¶ï ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§

---

## Repository Structure
Recommended repo layout (copy as you like):
```
.
‚îú‚îÄ‚îÄ pod.yaml
‚îú‚îÄ‚îÄ rc.yml
‚îú‚îÄ‚îÄ rs.yml
‚îú‚îÄ‚îÄ deployment-nginx.yml     # corrected name (not 'delpoyment-nginx.yml')
‚îî‚îÄ‚îÄ deploy.yml               # generated by kubectl (minimal)
```

---

## Quick Start Lab
1) **Apply objects** (step-by-step):
```bash
kubectl apply -f pod.yaml
kubectl apply -f rc.yml
kubectl apply -f rs.yml
kubectl apply -f deployment-nginx.yml
```
2) **Verify**:
```bash
kubectl get all -o wide
kubectl describe deploy/nginx-deploy
```
3) **Rolling update & rollback**:
```bash
kubectl set image deploy/nginx-deploy nginx-container=nginx:1.25-alpine
kubectl rollout status deploy/nginx-deploy
kubectl rollout history deploy/nginx-deploy
kubectl rollout undo deploy/nginx-deploy
```

---

## Pod (`pod.yaml`)
Pod ‡¶π‡¶ö‡ßç‡¶õ‡ßá Kubernetes-‡¶è‡¶∞ **‡¶∏‡¶¨‡¶ö‡ßá‡ßü‡ßá ‡¶õ‡ßã‡¶ü deployable unit**‡•§ ‡¶ü‡ßá‡¶∏‡ßç‡¶ü‡¶ø‡¶Ç‡ßü‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶≠‡¶æ‡¶≤‡ßã, ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ self-healing/rolling update ‡¶¶‡ßá‡ßü ‡¶®‡¶æ‡•§

### ‚úÖ Corrected YAML (version-pinned, safer defaults)
```yaml
apiVersion: v1
kind: Pod
metadata:
  name: declarative-pod-nginx
  labels:
    app: nginx
    env: demo
    type: frontend
spec:
  containers:
  - name: nginx-container
    image: nginx:1.25-alpine
    imagePullPolicy: IfNotPresent
    ports:
    - containerPort: 80
```

### Useful Pod Commands
| Command | ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ñ‡ßç‡¶Ø‡¶æ |
|---------|----------|
| `kubectl apply -f pod.yaml` | Pod ‡¶§‡ßà‡¶∞‡¶ø/‡¶Ü‡¶™‡¶°‡ßá‡¶ü |
| `kubectl get pods -o wide` | Pod + ‡¶ï‡ßã‡¶® Node-‡¶è ‡¶ö‡¶≤‡¶õ‡ßá |
| `kubectl describe pod pod.yaml` | Pod-‡¶è‡¶∞ ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ |
| `kubectl logs <pod-name>` | ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶á‡¶®‡¶æ‡¶∞ ‡¶≤‡¶ó |
| `kubectl exec -it <pod-name> -- /bin/sh` | ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶á‡¶®‡¶æ‡¶∞ ‡¶∂‡ßá‡¶≤‡ßá ‡¶¢‡ßã‡¶ï‡¶æ |
| `kubectl port-forward pod/<pod-name> 8080:80` | ‡¶≤‡ßã‡¶ï‡¶æ‡¶≤ 8080 ‚Üí Pod 80 |
| `kubectl delete pod declarative-pod-nginx` | Pod ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü |

> ‚ö†Ô∏è Tip: Pod ‡¶Æ‡¶∞‡ßá ‡¶ó‡ßá‡¶≤‡ßá ‡¶®‡¶ø‡¶ú‡ßá ‡¶®‡¶ø‡¶ú‡ßá ‡¶´‡¶ø‡¶∞‡ßá ‡¶Ü‡¶∏‡ßá ‡¶®‡¶æ‡•§ ReplicaSet/Deployment ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßã‡•§

---

## ReplicationController (`rc.yml`)
ReplicationController ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßá ‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡¶ø‡¶∑‡ßç‡¶ü ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶ï Pod ‡¶∏‡¶¨‡¶∏‡¶Æ‡ßü ‡¶ö‡¶≤‡¶õ‡ßá‡•§ ‡¶è‡¶ü‡¶ø **legacy**; ‡¶Ü‡¶ß‡ßÅ‡¶®‡¶ø‡¶ï ‡¶∏‡¶Æ‡ßü‡ßá RS/Deployment ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ‡¶á ‡¶≠‡¶æ‡¶≤‡ßã‡•§

### ‚úÖ Corrected YAML (removed invalid `name` in template, pinned image)
```yaml
apiVersion: v1
kind: ReplicationController
metadata:
  name: rc-nginx
  labels:
    app: nginx
    env: demo
spec:
  replicas: 3
  selector:
    app: nginx
    env: demo
  template:
    metadata:
      labels:
        app: nginx
        env: demo
    spec:
      containers:
      - name: nginx-container
        image: nginx:1.25-alpine
        ports:
        - containerPort: 80
```

### RC Commands
| Command | ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ñ‡ßç‡¶Ø‡¶æ |
|---------|----------|
| `kubectl apply -f rc.yml` | RC ‡¶§‡ßà‡¶∞‡¶ø/‡¶Ü‡¶™‡¶°‡ßá‡¶ü |
| `kubectl get rc` | ‡¶∏‡¶¨ RC |
| `kubectl delete rc rc-nginx` | RC ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü |

> ‚ùó ‡¶ï‡ßá‡¶® ‡¶´‡¶ø‡¶ï‡ßç‡¶∏: ‡¶Ü‡¶ó‡ßá‡¶∞ YAML-‡¶è `template.metadata.name: nginx` ‡¶•‡¶æ‡¶ï‡¶≤‡ßá ‡¶ï‡¶®‡ßç‡¶ü‡ßç‡¶∞‡ßã‡¶≤‡¶æ‡¶∞ ‡¶ú‡ßá‡¶®‡¶æ‡¶∞‡ßá‡¶ü‡ßá‡¶° Pod ‡¶®‡¶æ‡¶Æ‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶ï‡¶®‡¶´‡ßç‡¶≤‡¶ø‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡•§ ‡¶§‡¶æ‡¶á ‡¶ü‡ßá‡¶Æ‡¶™‡ßç‡¶≤‡ßá‡¶ü‡ßá `name` ‡¶®‡¶æ ‡¶¶‡¶ø‡ßü‡ßá ‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶á `labels` ‡¶∞‡¶æ‡¶ñ‡¶æ‡¶á ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶æ‡¶∞‡ßç‡¶°‡•§

---

## ReplicaSet (`rs.yml`)
ReplicaSet ‡¶π‡¶≤‡ßã RC-‡¶è‡¶∞ ‡¶â‡¶®‡ßç‡¶®‡¶§ ‡¶∏‡¶Ç‡¶∏‡ßç‡¶ï‡¶∞‡¶£; **label selectors** ‡¶¶‡¶ø‡ßü‡ßá ‡¶ï‡ßã‡¶® Pod ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú ‡¶π‡¶¨‡ßá ‡¶∏‡ßá‡¶ü‡¶ø ‡¶®‡¶ø‡¶∞‡ßç‡¶≠‡ßÅ‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶®‡¶ø‡ßü‡¶®‡ßç‡¶§‡ßç‡¶∞‡¶£ ‡¶ï‡¶∞‡ßá‡•§

### ‚úÖ Corrected YAML (selector matches both `app` and `env`)
```yaml
apiVersion: apps/v1
kind: ReplicaSet
metadata:
  name: nginx-rs
  labels:
    app: nginx
    env: demo
spec:
  replicas: 3
  selector:
    matchLabels:
      app: nginx
      env: demo
  template:
    metadata:
      labels:
        app: nginx
        env: demo
    spec:
      containers:
      - name: nginx-container
        image: nginx:1.25-alpine
        ports:
        - containerPort: 80
```

### RS Commands
| Command | ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ñ‡ßç‡¶Ø‡¶æ |
|---------|----------|
| `kubectl apply -f rs.yml` | RS ‡¶§‡ßà‡¶∞‡¶ø/‡¶Ü‡¶™‡¶°‡ßá‡¶ü |
| `kubectl get rs` | ‡¶∏‡¶¨ RS |
| `kubectl scale rs/nginx-rs --replicas=5` | ‡¶∏‡ßç‡¶ï‡ßá‡¶≤ ‡¶Ü‡¶â‡¶ü |
| `kubectl edit rs/nginx-rs` | YAML ‡¶è‡¶°‡¶ø‡¶ü |
| `kubectl delete rs/nginx-rs` | RS ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü |

> ‚úÖ Why selector fix: ‡¶∂‡ßÅ‡¶ß‡ßÅ `env: demo` ‡¶¶‡¶ø‡¶≤‡ßá ‡¶Ö‡¶®‡ßç‡¶Ø Pod-‡¶ì ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ö ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡•§ `app + env` ‡¶¶‡¶ø‡¶≤‡ßá ‡¶∏‡ßá‡¶´ ‡¶•‡¶æ‡¶ï‡ßá‡•§

---

## Deployment (`deployment-nginx.yml` and `deploy.yml`)
Deployment ReplicaSet ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú ‡¶ï‡¶∞‡ßá, **rolling update**, **rollback**, **strategy**, **probes**, **resource limits** ‡¶á‡¶§‡ßç‡¶Ø‡¶æ‡¶¶‡¶ø ‡¶¶‡ßá‡ßü‡•§

### ‚úÖ Corrected Minimal Deployment (`deployment-nginx.yml`)
```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: nginx-deploy
  labels:
    app: nginx
    env: demo
spec:
  replicas: 3
  selector:
    matchLabels:
      app: nginx
      env: demo
  template:
    metadata:
      labels:
        app: nginx
        env: demo
    spec:
      containers:
      - name: nginx-container
        image: nginx:1.25-alpine
        ports:
        - containerPort: 80
```

### üöÄ Production-Ready Deployment (optional, safer strategy, probes, resources)
```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: nginx-deploy
  labels:
    app: nginx
    env: demo
spec:
  replicas: 3
  revisionHistoryLimit: 5
  progressDeadlineSeconds: 120
  strategy:
    type: RollingUpdate
    rollingUpdate:
      maxSurge: 1
      maxUnavailable: 0
  selector:
    matchLabels:
      app: nginx
      env: demo
  template:
    metadata:
      labels:
        app: nginx
        env: demo
    spec:
      terminationGracePeriodSeconds: 30
      containers:
      - name: nginx-container
        image: nginx:1.25-alpine
        imagePullPolicy: IfNotPresent
        ports:
        - containerPort: 80
        resources:
          requests:
            cpu: "100m"
            memory: "128Mi"
          limits:
            cpu: "500m"
            memory: "256Mi"
        readinessProbe:
          httpGet:
            path: /
            port: 80
          initialDelaySeconds: 3
          periodSeconds: 5
          failureThreshold: 3
        livenessProbe:
          httpGet:
            path: /
            port: 80
          initialDelaySeconds: 10
          periodSeconds: 10
          failureThreshold: 3
```

### Minimal generated Deployment (`deploy.yml`)
‡¶è‡¶á ‡¶´‡¶æ‡¶á‡¶≤‡¶ü‡¶ø ‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£‡¶§ CLI ‡¶¶‡¶ø‡ßü‡ßá ‡¶ú‡ßá‡¶®‡¶æ‡¶∞‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü:
```bash
kubectl create deployment nginx-new --image=nginx:1.25-alpine --dry-run=client -o yaml > deploy.yml
```

---

## Command Cheat Sheet

### Global & Navigation
| Command | ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ñ‡ßç‡¶Ø‡¶æ |
|---------|----------|
| `kubectl get nodes` | ‡¶ï‡ßç‡¶≤‡¶æ‡¶∏‡ßç‡¶ü‡¶æ‡¶∞‡ßá‡¶∞ ‡¶®‡ßã‡¶° |
| `kubectl get all` | Pods/RS/Deployments/Services ‡¶∏‡¶¨ |
| `kubectl get events --sort-by=.metadata.creationTimestamp` | ‡¶ü‡¶æ‡¶á‡¶Æ-‡¶∏‡ßã‡¶∞‡ßç‡¶ü‡ßá‡¶° ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü |
| `kubectl explain deployment.spec` | ‡¶´‡¶ø‡¶≤‡ßç‡¶° ‡¶°‡¶ï‡ßç‡¶∏ |
| `kubectl get ns` | ‡¶∏‡¶¨ Namespace |
| `kubectl -n <ns> get all` | ‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡¶ø‡¶∑‡ßç‡¶ü Namespace-‡¶è ‡¶Ö‡¶¨‡¶ú‡ßá‡¶ï‡ßç‡¶ü |

### Pods
| Command | ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ñ‡ßç‡¶Ø‡¶æ |
|---------|----------|
| `kubectl apply -f pod.yaml` | Apply Pod |
| `kubectl logs <pod>` | ‡¶≤‡¶ó |
| `kubectl exec -it <pod> -- /bin/sh` | ‡¶∂‡ßá‡¶≤ |
| `kubectl port-forward pod/<pod> 8080:80` | ‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶´‡¶∞‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° |
| `kubectl delete pod <pod>` | ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü |

### ReplicaSet
| Command | ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ñ‡ßç‡¶Ø‡¶æ |
|---------|----------|
| `kubectl apply -f rs.yml` | Create/Update RS |
| `kubectl scale rs/nginx-rs --replicas=10` | ‡¶∏‡ßç‡¶ï‡ßá‡¶≤ ‡¶Ü‡¶™ |
| `kubectl scale rs/nginx-rs --replicas=3` | ‡¶∏‡ßç‡¶ï‡ßá‡¶≤ ‡¶°‡¶æ‡¶â‡¶® |
| `kubectl delete rs/nginx-rs` | ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü |

### Deployment
| Command | ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ñ‡ßç‡¶Ø‡¶æ |
|---------|----------|
| `kubectl apply -f deployment-nginx.yml` | Create/Update |
| `kubectl get deploy` | ‡¶≤‡¶ø‡¶∏‡ßç‡¶ü |
| `kubectl set image deploy/nginx-deploy nginx-container=nginx:1.25-alpine` | ‡¶∞‡ßã‡¶≤‡¶ø‡¶Ç ‡¶Ü‡¶™‡¶°‡ßá‡¶ü |
| `kubectl rollout status deploy/nginx-deploy` | ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏ |
| `kubectl rollout history deploy/nginx-deploy` | ‡¶π‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶ø |
| `kubectl rollout undo deploy/nginx-deploy` | ‡¶∞‡ßã‡¶≤‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï |
| `kubectl rollout pause deploy/nginx-deploy` | ‡¶™‡¶ú |
| `kubectl rollout resume deploy/nginx-deploy` | ‡¶∞‡¶ø‡¶ú‡¶ø‡¶â‡¶Æ |
| `kubectl scale deploy/nginx-deploy --replicas=6` | ‡¶∏‡ßç‡¶ï‡ßá‡¶≤ |
| `kubectl delete deployment nginx-deploy` | ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü |
| `kubectl rollout restart deployment/nginx-deploy` | ‡¶∞‡¶ø‡¶∏‡ßç‡¶ü‡¶æ‡¶∞‡ßç‡¶ü (Pod template ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶®‡¶æ ‡¶ï‡¶∞‡ßá‡¶ì) |

### Context & Namespace
| Command | ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ñ‡ßç‡¶Ø‡¶æ |
|---------|----------|
| `kubectl config get-contexts` | ‡¶ï‡¶®‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü ‡¶≤‡¶ø‡¶∏‡ßç‡¶ü |
| `kubectl config use-context <name>` | ‡¶ï‡¶®‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü ‡¶∏‡ßÅ‡¶á‡¶ö |
| `kubectl create namespace demo` | ‡¶®‡¶§‡ßÅ‡¶® Namespace |
| `kubectl apply -f file.yaml -n demo` | ‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡¶ø‡¶∑‡ßç‡¶ü Namespace-‡¶è apply |

---

## Validated Fixes for Your Earlier Errors
| ‡¶≠‡ßÅ‡¶≤ ‡¶ï‡¶Æ‡¶æ‡¶®‡ßç‡¶° | ‡¶†‡¶ø‡¶ï ‡¶ï‡¶Æ‡¶æ‡¶®‡ßç‡¶° | ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶ï‡ßÄ ‡¶õ‡¶ø‡¶≤ |
|---|---|---|
| `kubectl create deploy deploy/nginx-new --image=nginx --dryrun=client` | `kubectl create deployment nginx-new --image=nginx:1.25-alpine --dry-run=client` | resource ‡¶ü‡¶æ‡¶á‡¶™ ‡¶¶‡ßÅ‡¶¨‡¶æ‡¶∞, `--dryrun` ‡¶ü‡¶æ‡¶á‡¶™‡ßã |
| `kubectl create deploy deploy/nginx-new --image=nginx-container` | `kubectl create deployment nginx-new --image=nginx:1.25-alpine` | `--image` ‡¶è ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶á‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶®‡ßü, ‡¶á‡¶Æ‡ßá‡¶ú ‡¶®‡¶æ‡¶Æ ‡¶≤‡¶æ‡¶ó‡ßá |
| `kubectl create deployment nginx-new --dry0run=client` | `kubectl create deployment nginx-new --dry-run=client` | ‡¶´‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶ó ‡¶ü‡¶æ‡¶á‡¶™‡ßã |
| `kubectl create deployment ... -o yml` | `... -o yaml` | ‡¶Ü‡¶â‡¶ü‡¶™‡ßÅ‡¶ü ‡¶ü‡¶æ‡¶á‡¶™ `yaml` |
| `kubectl set image deploy/nginx-deploy nginx=nginx:1.9.1` | `kubectl set image deploy/nginx-deploy nginx-container=nginx:1.9.1` | ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶á‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶≠‡ßÅ‡¶≤ (‡¶á‡¶Æ‡ßá‡¶ú ‡¶®‡ßü, container name ‡¶¶‡¶ø‡¶§‡ßá ‡¶π‡ßü) |
| `kubectl set image deploy/nginx-deploy nginx:1.25-alpine=nginx:1.9.1` | `kubectl set image deploy/nginx-deploy nginx-container=nginx:1.9.1` | ‡¶Ü‡¶¨‡¶æ‡¶∞‡¶ì ‡¶á‡¶Æ‡ßá‡¶ú‡¶ï‡ßá container name ‡¶ß‡¶∞‡ßá ‡¶®‡¶ø‡ßü‡ßá‡¶õ‡¶ø‡¶≤‡ßá |
| `kubectl get pod.yaml` | `kubectl get -f pod.yaml` ‡¶¨‡¶æ `kubectl apply -f pod.yaml` | `get` ‡¶Ö‡¶¨‡¶ú‡ßá‡¶ï‡ßç‡¶ü ‡¶•‡ßá‡¶ï‡ßá ‡¶π‡ßü, ‡¶´‡¶æ‡¶á‡¶≤ ‡¶•‡ßá‡¶ï‡ßá ‡¶®‡ßü |
| `kubectl scales --replicas=10 rs/nginx-rs` | `kubectl scale --replicas=10 rs/nginx-rs` | ‡¶∏‡¶æ‡¶¨‡¶ï‡¶Æ‡¶æ‡¶®‡ßç‡¶° `scale`, `scales` ‡¶®‡ßü |
| `kubectl delete deploy deploy/nginx-new` | `kubectl delete deployment nginx-new` | resource ‡¶ü‡¶æ‡¶á‡¶™ ‡¶è‡¶ï‡¶¨‡¶æ‡¶∞‡¶á ‡¶≤‡¶æ‡¶ó‡ßá |

> Bonus: ‡¶´‡¶æ‡¶á‡¶≤‡¶®‡ßá‡¶Æ ‡¶†‡¶ø‡¶ï ‡¶ï‡¶∞‡ßã `deployment-nginx.yml` (‡¶Ü‡¶ó‡ßá ‡¶õ‡¶ø‡¶≤ `delpoyment-nginx.yml`).

---

## Troubleshooting & Tips
- **ImagePullBackOff**: ‡¶á‡¶Æ‡ßá‡¶ú ‡¶®‡¶æ‡¶Æ/‡¶ü‡ßç‡¶Ø‡¶æ‡¶ó ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßã, ‡¶™‡ßç‡¶∞‡¶æ‡¶á‡¶≠‡ßá‡¶ü ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶ø ‡¶π‡¶≤‡ßá `imagePullSecrets` ‡¶¶‡¶æ‡¶ì‡•§  
- **CrashLoopBackOff**: `kubectl logs <pod>` ‡¶¶‡ßá‡¶ñ‡ßã; readiness/liveness probe ‡¶ü‡¶æ‡¶á‡¶Æ‡¶ø‡¶Ç ‡¶∂‡¶ø‡¶•‡¶ø‡¶≤ ‡¶ï‡¶∞‡ßã‡•§  
- **Pods not created by RS/Deploy**: `selector.matchLabels` ‡¶ì `template.metadata.labels` ‡¶Æ‡¶ø‡¶≤‡¶õ‡ßá ‡¶ï‡¶ø ‡¶®‡¶æ ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶π‡¶ì‡•§  
- **Rollout stuck**: `kubectl describe deploy/<name>` ‡¶è ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶¶‡ßá‡¶ñ‡ßã; `maxUnavailable: 0` ‡¶π‡¶≤‡ßá capacity ‡¶ü‡¶æ‡¶á‡¶ü ‡¶π‡¶≤‡ßá ‡¶Ü‡¶ü‡¶ï‡ßá ‡¶Ø‡ßá‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡•§  
- **Namespace confusion**: ‡¶∏‡¶¨‡¶∏‡¶Æ‡ßü `-n <ns>` ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßã ‡¶Ø‡¶¶‡¶ø ‡¶°‡¶ø‡¶´‡¶≤‡ßç‡¶ü ‡¶®‡¶æ ‡¶π‡ßü‡•§  
- **Diff before apply**: `kubectl diff -f <file>` ‡¶¶‡¶ø‡ßü‡ßá ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶¶‡ßá‡¶ñ‡ßã, ‡¶§‡¶æ‡¶∞‡¶™‡¶∞ `apply`‡•§  

---

## Visual Diagrams

### 1) Object relationship
```mermaid
graph TD
    A[Deployment] --> B[ReplicaSet]
    B --> C1[Pod 1]
    B --> C2[Pod 2]
    B --> C3[Pod 3]
```

### 2) Rolling update flow
```mermaid
sequenceDiagram
    participant U as kubectl set image
    participant D as Deployment
    participant R1 as ReplicaSet (old)
    participant R2 as ReplicaSet (new)
    participant P as Pods
    U->>D: Update Pod template (new image)
    D->>R2: Create new RS
    R2->>P: Scale up new Pods
    D->>R1: Scale down old Pods
    D->>U: Rollout complete
```

---

**Happy shipping.** ‡¶è‡¶á ‡¶´‡¶æ‡¶á‡¶≤ ‡¶è‡¶ï‡¶æ‡¶á ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ K8s ‡¶¨‡ßá‡¶∏‡¶ø‡¶ï ‡¶•‡ßá‡¶ï‡ßá rolling update/rollback ‡¶™‡¶∞‡ßç‡¶Ø‡¶®‡ßç‡¶§ ‡¶ï‡¶≠‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶¨‡ßá‡•§
